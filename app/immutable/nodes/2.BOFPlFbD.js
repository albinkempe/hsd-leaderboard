import{f as G,a as Q}from"../chunks/CnpQ8Ro8.js";import{i as re}from"../chunks/DIymI1qN.js";import{o as te}from"../chunks/C5wIMy6C.js";import{a as se,a1 as me,X as J,h as x,Q as pe,V as _e,i as g,k as he,ax as ge,a3 as ye,ac as $,ao as K,e as O,a2 as Ee,at as be,b as Y,s as xe,c as we,aa as Te,aA as I,Z as j,ar as ne,aE as Ae,aF as Ne,r as le,p as Me,aG as Ce,aH as De,aI as U,d as ie,am as He,aJ as Ie,aq as Se,aK as Re,q as ke,H as Z,aL as P,n as R,F as L,aM as oe,M as D,N as M,O as z,J as fe,K as W,u as ee}from"../chunks/DCnrmVDU.js";import{s as V}from"../chunks/HRD7FUh1.js";import{p as S}from"../chunks/B8lM9HYx.js";function qe(r,a){return a}function Fe(r,a,e){for(var t=r.items,l=[],i=a.length,s=0;s<i;s++)Ie(a[s].e,l,!0);var n=i>0&&l.length===0&&e!==null;if(n){var c=e.parentNode;Se(c),c.append(e),t.clear(),N(r,a[0].prev,a[i-1].next)}Re(l,()=>{for(var d=0;d<i;d++){var p=a[d];n||(t.delete(p.k),N(r,p.prev,p.next)),ie(p.e,!n)}})}function Oe(r,a,e,t,l,i=null){var s=r,n={flags:a,items:new Map,first:null};{var c=r;s=x?J(pe(c)):c.appendChild(se())}x&&_e();var d=null,p=!1,E=new Map,o=he(()=>{var u=e();return Ae(u)?u:u==null?[]:ne(u)}),m,f;function v(){Pe(f,m,n,E,s,l,a,t,e),i!==null&&(m.length===0?d?le(d):d=Y(()=>i(s)):d!==null&&Me(d,()=>{d=null}))}me(()=>{f??=ke,m=g(o);var u=m.length;if(p&&u===0)return;p=u===0;let w=!1;if(x){var T=ge(s)===ye;T!==(u===0)&&(s=$(),J(s),K(!1),w=!0)}if(x){for(var _=null,y,h=0;h<u;h++){if(O.nodeType===Ee&&O.data===be){s=O,w=!0,K(!1);break}var C=m[h],A=t(C,h);y=B(O,n,_,null,C,A,h,l,a,e),n.items.set(A,y),_=y}u>0&&J($())}if(x)u===0&&i&&(d=Y(()=>i(s)));else if(xe()){var H=new Set,b=we;for(h=0;h<u;h+=1){C=m[h],A=t(C,h);var k=n.items.get(A)??E.get(A);k?ue(k,C,h):(y=B(null,n,null,null,C,A,h,l,a,e,!0),E.set(A,y)),H.add(A)}for(const[q,F]of n.items)H.has(q)||b.skipped_effects.add(F.e);b.oncommit(v)}else v();w&&K(!0),g(o)}),x&&(s=O)}function Pe(r,a,e,t,l,i,s,n,c){var d=a.length,p=e.items,E=e.first,o=E,m,f=null,v=[],u=[],w,T,_,y;for(y=0;y<d;y+=1){if(w=a[y],T=n(w,y),_=p.get(T),_===void 0){var h=t.get(T);if(h!==void 0){t.delete(T),p.set(T,h);var C=f?f.next:o;N(e,f,h),N(e,h,C),X(h,C,l),f=h}else{var A=o?o.e.nodes_start:l;f=B(A,e,f,f===null?e.first:f.next,w,T,y,i,s,c)}p.set(T,f),v=[],u=[],o=f.next;continue}if(ue(_,w,y),(_.e.f&U)!==0&&le(_.e),_!==o){if(m!==void 0&&m.has(_)){if(v.length<u.length){var H=u[0],b;f=H.prev;var k=v[0],q=v[v.length-1];for(b=0;b<v.length;b+=1)X(v[b],H,l);for(b=0;b<u.length;b+=1)m.delete(u[b]);N(e,k.prev,q.next),N(e,f,k),N(e,q,H),o=H,f=q,y-=1,v=[],u=[]}else m.delete(_),X(_,o,l),N(e,_.prev,_.next),N(e,_,f===null?e.first:f.next),N(e,f,_),f=_;continue}for(v=[],u=[];o!==null&&o.k!==T;)(o.e.f&U)===0&&(m??=new Set).add(o),u.push(o),o=o.next;if(o===null)continue;_=o}v.push(_),f=_,o=_.next}if(o!==null||m!==void 0){for(var F=m===void 0?[]:ne(m);o!==null;)(o.e.f&U)===0&&F.push(o),o=o.next;var ve=F.length;if(ve>0){var ce=d===0?l:null;Fe(e,F,ce)}}r.first=e.first&&e.first.e,r.last=f&&f.e;for(var de of t.values())ie(de.e);t.clear()}function ue(r,a,e,t){Te(r.v,a),r.i=e}function B(r,a,e,t,l,i,s,n,c,d,p){var E=(c&Ce)!==0,o=(c&De)===0,m=E?o?I(l,!1,!1):j(l):l,f=(c&Ne)===0?s:j(s),v={i:f,v:m,k:i,a:null,e:null,prev:e,next:t};try{if(r===null){var u=document.createDocumentFragment();u.append(r=se())}return v.e=Y(()=>n(r,m,f,d),x),v.e.prev=e&&e.e,v.e.next=t&&t.e,e===null?p||(a.first=v):(e.next=v,e.e.next=v.e),t!==null&&(t.prev=v,t.e.prev=v.e),v}finally{}}function X(r,a,e){for(var t=r.next?r.next.e.nodes_start:e,l=a?a.e.nodes_start:e,i=r.e.nodes_start;i!==null&&i!==t;){var s=He(i);l.before(i),i=s}}function N(r,a,e){a===null?r.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}function Le(r,a,e){var t=r==null?"":""+r;return t=t?t+" "+a:a,t===""?null:t}function Ve(r,a){return r==null?null:String(r)}function ze(r,a,e,t,l,i){var s=r.__className;if(x||s!==e||s===void 0){var n=Le(e,t);(!x||n!==r.getAttribute("class"))&&(n==null?r.removeAttribute("class"):r.className=n),r.__className=e}return i}function ae(r,a,e,t){var l=r.__style;if(x||l!==a){var i=Ve(a);(!x||i!==r.getAttribute("style"))&&(i==null?r.removeAttribute("style"):r.style.cssText=i),r.__style=a}return t}var Je=G('<div class="card svelte-1u0xoi6"><p class="card-title svelte-1u0xoi6"> </p> <div class="progress-bar svelte-1u0xoi6"><div class="progress svelte-1u0xoi6"><p class="progress-text svelte-1u0xoi6"> </p></div></div> <p class="progress-difference svelte-1u0xoi6"> </p></div>');function Ke(r,a){Z(a,!1);const e=I(),t=I(),l=I(),i=I();let s=S(a,"title",8,"Diamond 4"),n=S(a,"progress",8,90),c=S(a,"total",8,100);P(()=>(L(n()),L(c())),()=>{R(e,Math.min(n()/c()*100,100))}),P(()=>(L(c()),L(n())),()=>{R(t,Math.max(c()-n(),0))}),P(()=>g(e),()=>{R(l,g(e)===100)}),P(()=>g(l),()=>{R(i,g(l)?"rgb(0, 123, 255)":"rgb(224, 88, 24)")}),oe();var d=Je(),p=D(d),E=D(p,!0);M(p);var o=z(p,2),m=D(o),f=D(m),v=D(f);M(f),M(m),M(o);var u=z(o,2),w=D(u);M(u),M(d),fe(()=>{V(E,s()),ae(m,`width: ${g(e)??""}%; background-color: ${g(i)??""};`),V(v,`${n()??""}/${c()??""}`),ae(u,`color: ${(g(l)?g(i):"")??""};`),V(w,`${g(t)??""} to Diamond`)}),Q(r,d),W()}var Ue=G('<div><p class="player-steamname svelte-1h7q4iz"> </p> <!></div>');function Xe(r,a){Z(a,!1);let e=S(a,"name",8,"turbo"),t=S(a,"steamname",8,"turbo#9840"),l=S(a,"progress",12,0),i=S(a,"league",12,"Diamond 4");te(async()=>{try{const p=encodeURIComponent(e()),E=await fetch(`https://api.the-finals-leaderboard.com/v1/leaderboard/s8/crossplay?name=${p}`);if(!E.ok)throw new Error(`HTTP ${E.status}`);const o=await E.json();l(o.data[0].rankScore),i(o.data[0].league)}catch(p){console.error("Failed to fetch rank:",p)}}),re();var s=Ue(),n=D(s),c=D(n,!0);M(n);var d=z(n,2);Ke(d,{get title(){return i()},get progress(){return l()},total:4e4}),M(s),fe(()=>{ze(s,1,`player ${l()>=4e4?"complete":""}`,"svelte-1h7q4iz"),V(c,t())}),Q(r,s),W()}var Ye=G('<main class="svelte-1uha8ag"><h1 class="svelte-1uha8ag">HSD Esports</h1> <div class="players svelte-1uha8ag"></div></main>');function je(r,a){Z(a,!1);const e=I();let t=I([]);te(async()=>{try{const s=await fetch("https://api.the-finals-leaderboard.com/v1/leaderboard/s8worldtour/crossplay?clubTag=HSD");if(!s.ok)throw new Error(`HTTP ${s.status}`);const n=await s.json();R(t,n.data.map(c=>({name:c.name,steamname:c.steamName})))}catch(s){console.error("Failed to fetch rank:",s)}}),P(()=>g(t),()=>{R(e,[...g(t)].sort((s,n)=>s.steamname.localeCompare(n.steamname)))}),oe(),re();var l=Ye(),i=z(D(l),2);Oe(i,5,()=>g(e),qe,(s,n)=>{Xe(s,{get name(){return g(n),ee(()=>g(n).name)},get steamname(){return g(n),ee(()=>g(n).steamname)}})}),M(i),M(l),Q(r,l),W()}export{je as component};
