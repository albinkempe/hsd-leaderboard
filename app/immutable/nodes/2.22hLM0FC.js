import{f as X,a as Y}from"../chunks/B41bKYzS.js";import{i as Z}from"../chunks/Bcl1ByYF.js";import{o as W}from"../chunks/DWteZuwz.js";import{a as $,a1 as ue,X as P,h as D,Q as ve,V as ce,i as C,k as de,ax as me,a3 as pe,ac as B,ao as V,e as q,a2 as he,at as _e,b as K,s as ge,c as xe,aa as ye,aA as j,Z as G,ar as ee,aE as Ee,aF as we,r as ae,p as Te,aG as be,aH as Ae,aI as z,d as re,am as Me,aJ as De,aq as Ie,aK as Ne,q as He,M as I,N as A,O as L,J as te,u as Q,F,H as se,K as ne,n as Ce}from"../chunks/PmeEF6t4.js";import{s as O}from"../chunks/DgEnLcCd.js";import{p as H}from"../chunks/Bi03elsf.js";function ke(r,a){return a}function Se(r,a,e){for(var s=r.items,l=[],t=a.length,i=0;i<t;i++)De(a[i].e,l,!0);var u=t>0&&l.length===0&&e!==null;if(u){var _=e.parentNode;Ie(_),_.append(e),s.clear(),b(r,a[0].prev,a[t-1].next)}Ne(l,()=>{for(var m=0;m<t;m++){var c=a[m];u||(s.delete(c.k),b(r,c.prev,c.next)),re(c.e,!u)}})}function Re(r,a,e,s,l,t=null){var i=r,u={flags:a,items:new Map,first:null};{var _=r;i=D?P(ve(_)):_.appendChild($())}D&&ce();var m=null,c=!1,g=new Map,n=de(()=>{var f=e();return Ee(f)?f:f==null?[]:ee(f)}),p,o;function v(){qe(o,p,u,g,i,l,a,s,e),t!==null&&(p.length===0?m?ae(m):m=K(()=>t(i)):m!==null&&Te(m,()=>{m=null}))}ue(()=>{o??=He,p=C(n);var f=p.length;if(c&&f===0)return;c=f===0;let x=!1;if(D){var w=me(i)===pe;w!==(f===0)&&(i=B(),P(i),V(!1),x=!0)}if(D){for(var d=null,y,h=0;h<f;h++){if(q.nodeType===he&&q.data===_e){i=q,x=!0,V(!1);break}var M=p[h],T=s(M,h);y=U(q,u,d,null,M,T,h,l,a,e),u.items.set(T,y),d=y}f>0&&P(B())}if(D)f===0&&t&&(m=K(()=>t(i)));else if(ge()){var N=new Set,E=xe;for(h=0;h<f;h+=1){M=p[h],T=s(M,h);var k=u.items.get(T)??g.get(T);k?le(k,M,h):(y=U(null,u,null,null,M,T,h,l,a,e,!0),g.set(T,y)),N.add(T)}for(const[S,R]of u.items)N.has(S)||E.skipped_effects.add(R.e);E.oncommit(v)}else v();x&&V(!0),C(n)}),D&&(i=q)}function qe(r,a,e,s,l,t,i,u,_){var m=a.length,c=e.items,g=e.first,n=g,p,o=null,v=[],f=[],x,w,d,y;for(y=0;y<m;y+=1){if(x=a[y],w=u(x,y),d=c.get(w),d===void 0){var h=s.get(w);if(h!==void 0){s.delete(w),c.set(w,h);var M=o?o.next:n;b(e,o,h),b(e,h,M),J(h,M,l),o=h}else{var T=n?n.e.nodes_start:l;o=U(T,e,o,o===null?e.first:o.next,x,w,y,t,i,_)}c.set(w,o),v=[],f=[],n=o.next;continue}if(le(d,x,y),(d.e.f&z)!==0&&ae(d.e),d!==n){if(p!==void 0&&p.has(d)){if(v.length<f.length){var N=f[0],E;o=N.prev;var k=v[0],S=v[v.length-1];for(E=0;E<v.length;E+=1)J(v[E],N,l);for(E=0;E<f.length;E+=1)p.delete(f[E]);b(e,k.prev,S.next),b(e,o,k),b(e,S,N),n=N,o=S,y-=1,v=[],f=[]}else p.delete(d),J(d,n,l),b(e,d.prev,d.next),b(e,d,o===null?e.first:o.next),b(e,o,d),o=d;continue}for(v=[],f=[];n!==null&&n.k!==w;)(n.e.f&z)===0&&(p??=new Set).add(n),f.push(n),n=n.next;if(n===null)continue;d=n}v.push(d),o=d,n=d.next}if(n!==null||p!==void 0){for(var R=p===void 0?[]:ee(p);n!==null;)(n.e.f&z)===0&&R.push(n),n=n.next;var ie=R.length;if(ie>0){var oe=m===0?l:null;Se(e,R,oe)}}r.first=e.first&&e.first.e,r.last=o&&o.e;for(var fe of s.values())re(fe.e);s.clear()}function le(r,a,e,s){ye(r.v,a),r.i=e}function U(r,a,e,s,l,t,i,u,_,m,c){var g=(_&be)!==0,n=(_&Ae)===0,p=g?n?j(l,!1,!1):G(l):l,o=(_&we)===0?i:G(i),v={i:o,v:p,k:t,a:null,e:null,prev:e,next:s};try{if(r===null){var f=document.createDocumentFragment();f.append(r=$())}return v.e=K(()=>u(r,p,o,m),D),v.e.prev=e&&e.e,v.e.next=s&&s.e,e===null?c||(a.first=v):(e.next=v,e.e.next=v.e),s!==null&&(s.prev=v,s.e.prev=v.e),v}finally{}}function J(r,a,e){for(var s=r.next?r.next.e.nodes_start:e,l=a?a.e.nodes_start:e,t=r.e.nodes_start;t!==null&&t!==s;){var i=Me(t);l.before(t),t=i}}function b(r,a,e){a===null?r.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}function Fe(r,a){return r==null?null:String(r)}function Oe(r,a,e,s){var l=r.__style;if(D||l!==a){var t=Fe(a);(!D||t!==r.getAttribute("style"))&&(t==null?r.removeAttribute("style"):r.style.cssText=t),r.__style=a}return s}var Pe=X('<div class="card svelte-1u0xoi6"><p class="card-title svelte-1u0xoi6"> </p> <div class="progress-bar svelte-1u0xoi6"><div class="progress svelte-1u0xoi6"><p class="progress-text svelte-1u0xoi6"> </p></div></div> <p class="progress-difference svelte-1u0xoi6"> </p></div>');function Ve(r,a){let e=H(a,"title",8,"Diamond 4"),s=H(a,"progress",8,90),l=H(a,"total",8,100);function t(f,x){return Math.min(f/x*100,100)}function i(f,x){return Math.max(x-f,0)}var u=Pe(),_=I(u),m=I(_,!0);A(_);var c=L(_,2),g=I(c),n=I(g),p=I(n);A(n),A(g),A(c);var o=L(c,2),v=I(o);A(o),A(u),te((f,x)=>{O(m,e()),Oe(g,`width: ${f??""}%;`),O(p,`${s()??""}/${l()??""}`),O(v,`${x??""} to Diamond`)},[()=>(F(s()),F(l()),Q(()=>t(s(),l()))),()=>(F(s()),F(l()),Q(()=>i(s(),l())))]),Y(r,u)}var ze=X('<div class="player svelte-1h7q4iz"><p class="player-steamname svelte-1h7q4iz"> </p> <!></div>');function Je(r,a){se(a,!1);let e=H(a,"name",8,"turbo"),s=H(a,"steamname",8,"turbo#9840"),l=H(a,"rank",12,0),t=H(a,"league",12,"Diamond 4");W(async()=>{try{const c=encodeURIComponent(e()),g=await fetch(`https://api.the-finals-leaderboard.com/v1/leaderboard/s8/crossplay?name=${c}`);if(!g.ok)throw new Error(`HTTP ${g.status}`);const n=await g.json();console.log(n.data[0].rankScore),l(n.data[0].rankScore),t(n.data[0].league)}catch(c){console.error("Failed to fetch rank:",c)}}),Z();var i=ze(),u=I(i),_=I(u,!0);A(u);var m=L(u,2);Ve(m,{get title(){return t()},get progress(){return l()},total:4e4}),A(i),te(()=>O(_,s())),Y(r,i),ne()}var Ke=X('<main class="svelte-1uha8ag"><div class="players svelte-1uha8ag"></div></main>');function Qe(r,a){se(a,!1);let e=j([]);W(async()=>{try{const t=await fetch("https://api.the-finals-leaderboard.com/v1/leaderboard/s8worldtour/crossplay?clubTag=HSD");if(!t.ok)throw new Error(`HTTP ${t.status}`);const i=await t.json();console.log(i.data),Ce(e,i.data.map(u=>({name:u.name,steamname:u.steamName}))),console.log(C(e))}catch(t){console.error("Failed to fetch rank:",t)}}),Z();var s=Ke(),l=I(s);Re(l,5,()=>C(e),ke,(t,i)=>{Je(t,{get name(){return C(i).name},get steamname(){return C(i).steamname}})}),A(l),A(s),Y(r,s),ne()}export{Qe as component};
