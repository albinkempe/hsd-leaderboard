import{f as U,a as X}from"../chunks/B41bKYzS.js";import{i as Q}from"../chunks/Bcl1ByYF.js";import{o as Z}from"../chunks/DWteZuwz.js";import{a as W,a1 as fe,X as O,h as I,Q as ue,V as ve,i as D,k as de,ax as ce,a3 as me,ac as Y,ao as P,e as q,a2 as pe,at as he,b as J,s as _e,c as ge,aa as ye,aA as $,Z as B,ar as j,aE as xe,aF as Ee,r as ee,p as we,aG as Te,aH as be,aI as z,d as ae,am as Ae,aJ as Ie,aq as Me,aK as Ne,q as He,M,N as b,O as K,J as re,u as Ce,F as G,H as te,K as se,n as De}from"../chunks/PmeEF6t4.js";import{s as F}from"../chunks/DgEnLcCd.js";import{p as C}from"../chunks/Bi03elsf.js";function ke(r,a){return a}function Se(r,a,e){for(var l=r.items,o=[],t=a.length,s=0;s<t;s++)Ie(a[s].e,o,!0);var u=t>0&&o.length===0&&e!==null;if(u){var _=e.parentNode;Me(_),_.append(e),l.clear(),T(r,a[0].prev,a[t-1].next)}Ne(o,()=>{for(var v=0;v<t;v++){var p=a[v];u||(l.delete(p.k),T(r,p.prev,p.next)),ae(p.e,!u)}})}function Re(r,a,e,l,o,t=null){var s=r,u={flags:a,items:new Map,first:null};{var _=r;s=I?O(ue(_)):_.appendChild(W())}I&&ve();var v=null,p=!1,y=new Map,n=de(()=>{var c=e();return xe(c)?c:c==null?[]:j(c)}),f,i;function d(){qe(i,f,u,y,s,o,a,l,e),t!==null&&(f.length===0?v?ee(v):v=J(()=>t(s)):v!==null&&we(v,()=>{v=null}))}fe(()=>{i??=He,f=D(n);var c=f.length;if(p&&c===0)return;p=c===0;let N=!1;if(I){var E=ce(s)===me;E!==(c===0)&&(s=Y(),O(s),P(!1),N=!0)}if(I){for(var m=null,g,h=0;h<c;h++){if(q.nodeType===pe&&q.data===he){s=q,N=!0,P(!1);break}var A=f[h],w=l(A,h);g=L(q,u,m,null,A,w,h,o,a,e),u.items.set(w,g),m=g}c>0&&O(Y())}if(I)c===0&&t&&(v=J(()=>t(s)));else if(_e()){var H=new Set,x=ge;for(h=0;h<c;h+=1){A=f[h],w=l(A,h);var k=u.items.get(w)??y.get(w);k?ne(k,A,h):(g=L(null,u,null,null,A,w,h,o,a,e,!0),y.set(w,g)),H.add(w)}for(const[S,R]of u.items)H.has(S)||x.skipped_effects.add(R.e);x.oncommit(d)}else d();N&&P(!0),D(n)}),I&&(s=q)}function qe(r,a,e,l,o,t,s,u,_){var v=a.length,p=e.items,y=e.first,n=y,f,i=null,d=[],c=[],N,E,m,g;for(g=0;g<v;g+=1){if(N=a[g],E=u(N,g),m=p.get(E),m===void 0){var h=l.get(E);if(h!==void 0){l.delete(E),p.set(E,h);var A=i?i.next:n;T(e,i,h),T(e,h,A),V(h,A,o),i=h}else{var w=n?n.e.nodes_start:o;i=L(w,e,i,i===null?e.first:i.next,N,E,g,t,s,_)}p.set(E,i),d=[],c=[],n=i.next;continue}if(ne(m,N,g),(m.e.f&z)!==0&&ee(m.e),m!==n){if(f!==void 0&&f.has(m)){if(d.length<c.length){var H=c[0],x;i=H.prev;var k=d[0],S=d[d.length-1];for(x=0;x<d.length;x+=1)V(d[x],H,o);for(x=0;x<c.length;x+=1)f.delete(c[x]);T(e,k.prev,S.next),T(e,i,k),T(e,S,H),n=H,i=S,g-=1,d=[],c=[]}else f.delete(m),V(m,n,o),T(e,m.prev,m.next),T(e,m,i===null?e.first:i.next),T(e,i,m),i=m;continue}for(d=[],c=[];n!==null&&n.k!==E;)(n.e.f&z)===0&&(f??=new Set).add(n),c.push(n),n=n.next;if(n===null)continue;m=n}d.push(m),i=m,n=m.next}if(n!==null||f!==void 0){for(var R=f===void 0?[]:j(f);n!==null;)(n.e.f&z)===0&&R.push(n),n=n.next;var le=R.length;if(le>0){var ie=v===0?o:null;Se(e,R,ie)}}r.first=e.first&&e.first.e,r.last=i&&i.e;for(var oe of l.values())ae(oe.e);l.clear()}function ne(r,a,e,l){ye(r.v,a),r.i=e}function L(r,a,e,l,o,t,s,u,_,v,p){var y=(_&Te)!==0,n=(_&be)===0,f=y?n?$(o,!1,!1):B(o):o,i=(_&Ee)===0?s:B(s),d={i,v:f,k:t,a:null,e:null,prev:e,next:l};try{if(r===null){var c=document.createDocumentFragment();c.append(r=W())}return d.e=J(()=>u(r,f,i,v),I),d.e.prev=e&&e.e,d.e.next=l&&l.e,e===null?p||(a.first=d):(e.next=d,e.e.next=d.e),l!==null&&(l.prev=d,l.e.prev=d.e),d}finally{}}function V(r,a,e){for(var l=r.next?r.next.e.nodes_start:e,o=a?a.e.nodes_start:e,t=r.e.nodes_start;t!==null&&t!==l;){var s=Ae(t);o.before(t),t=s}}function T(r,a,e){a===null?r.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}function Fe(r,a){return r==null?null:String(r)}function Oe(r,a,e,l){var o=r.__style;if(I||o!==a){var t=Fe(a);(!I||t!==r.getAttribute("style"))&&(t==null?r.removeAttribute("style"):r.style.cssText=t),r.__style=a}return l}var Pe=U('<div class="card svelte-1u0xoi6"><p class="card-title svelte-1u0xoi6"> </p> <div class="progress-bar svelte-1u0xoi6"><div class="progress svelte-1u0xoi6"><p class="progress-text svelte-1u0xoi6"> </p></div></div></div>');function ze(r,a){let e=C(a,"title",8,"Diamond 4"),l=C(a,"progress",8,90),o=C(a,"total",8,100);function t(f,i){return Math.min(f/i*100,100)}var s=Pe(),u=M(s),_=M(u,!0);b(u);var v=K(u,2),p=M(v),y=M(p),n=M(y);b(y),b(p),b(v),b(s),re(f=>{F(_,e()),Oe(p,`width: ${f??""}%;`),F(n,`${l()??""}/${o()??""}`)},[()=>(G(l()),G(o()),Ce(()=>t(l(),o())))]),X(r,s)}var Ve=U('<div class="player svelte-1h7q4iz"><p class="player-steamname svelte-1h7q4iz"> </p> <p class="player-name svelte-1h7q4iz"> </p> <!></div>');function Je(r,a){te(a,!1);let e=C(a,"name",8,"turbo"),l=C(a,"steamname",8,"turbo#9840"),o=C(a,"rank",12,0),t=C(a,"league",12,"Diamond 4");Z(async()=>{try{const n=encodeURIComponent(e()),f=await fetch(`https://api.the-finals-leaderboard.com/v1/leaderboard/s8/crossplay?name=${n}`);if(!f.ok)throw new Error(`HTTP ${f.status}`);const i=await f.json();console.log(i.data[0].rankScore),o(i.data[0].rankScore),t(i.data[0].league)}catch(n){console.error("Failed to fetch rank:",n)}}),Q();var s=Ve(),u=M(s),_=M(u,!0);b(u);var v=K(u,2),p=M(v,!0);b(v);var y=K(v,2);ze(y,{get title(){return t()},get progress(){return o()},total:4e4}),b(s),re(()=>{F(_,l()),F(p,e())}),X(r,s),se()}var Ke=U('<main class="svelte-1uha8ag"><div class="players svelte-1uha8ag"></div></main>');function Qe(r,a){te(a,!1);let e=$([]);Z(async()=>{try{const t=await fetch("https://api.the-finals-leaderboard.com/v1/leaderboard/s8worldtour/crossplay?clubTag=HSD");if(!t.ok)throw new Error(`HTTP ${t.status}`);const s=await t.json();console.log(s.data),De(e,s.data.map(u=>({name:u.name,steamname:u.steamName}))),console.log(D(e))}catch(t){console.error("Failed to fetch rank:",t)}}),Q();var l=Ke(),o=M(l);Re(o,5,()=>D(e),ke,(t,s)=>{Je(t,{get name(){return D(s).name},get steamname(){return D(s).steamname}})}),b(o),b(l),X(r,l),se()}export{Qe as component};
