import{f as G,a as Q}from"../chunks/CnpQ8Ro8.js";import{i as re}from"../chunks/DIymI1qN.js";import{o as te}from"../chunks/C5wIMy6C.js";import{a as se,a1 as me,X as z,h as E,Q as pe,V as _e,i as g,k as he,ax as ge,a3 as ye,ac as $,ao as J,e as O,a2 as be,at as xe,b as X,s as Ee,c as we,aa as Te,aA as H,Z as j,ar as ne,aE as Ae,aF as Ne,r as le,p as Me,aG as Ce,aH as Ie,aI as K,d as ie,am as De,aJ as He,aq as Re,aK as Se,q as ke,H as Z,aL as P,n as S,F as L,aM as oe,M as I,N as M,O as Y,J as fe,K as W,u as ee}from"../chunks/DCnrmVDU.js";import{s as V}from"../chunks/HRD7FUh1.js";import{p as R}from"../chunks/B8lM9HYx.js";function qe(r,a){return a}function Fe(r,a,e){for(var t=r.items,l=[],i=a.length,s=0;s<i;s++)He(a[s].e,l,!0);var n=i>0&&l.length===0&&e!==null;if(n){var c=e.parentNode;Re(c),c.append(e),t.clear(),N(r,a[0].prev,a[i-1].next)}Se(l,()=>{for(var d=0;d<i;d++){var p=a[d];n||(t.delete(p.k),N(r,p.prev,p.next)),ie(p.e,!n)}})}function Oe(r,a,e,t,l,i=null){var s=r,n={flags:a,items:new Map,first:null};{var c=r;s=E?z(pe(c)):c.appendChild(se())}E&&_e();var d=null,p=!1,b=new Map,o=he(()=>{var u=e();return Ae(u)?u:u==null?[]:ne(u)}),m,f;function v(){Pe(f,m,n,b,s,l,a,t,e),i!==null&&(m.length===0?d?le(d):d=X(()=>i(s)):d!==null&&Me(d,()=>{d=null}))}me(()=>{f??=ke,m=g(o);var u=m.length;if(p&&u===0)return;p=u===0;let w=!1;if(E){var T=ge(s)===ye;T!==(u===0)&&(s=$(),z(s),J(!1),w=!0)}if(E){for(var _=null,y,h=0;h<u;h++){if(O.nodeType===be&&O.data===xe){s=O,w=!0,J(!1);break}var C=m[h],A=t(C,h);y=B(O,n,_,null,C,A,h,l,a,e),n.items.set(A,y),_=y}u>0&&z($())}if(E)u===0&&i&&(d=X(()=>i(s)));else if(Ee()){var D=new Set,x=we;for(h=0;h<u;h+=1){C=m[h],A=t(C,h);var k=n.items.get(A)??b.get(A);k?ue(k,C,h):(y=B(null,n,null,null,C,A,h,l,a,e,!0),b.set(A,y)),D.add(A)}for(const[q,F]of n.items)D.has(q)||x.skipped_effects.add(F.e);x.oncommit(v)}else v();w&&J(!0),g(o)}),E&&(s=O)}function Pe(r,a,e,t,l,i,s,n,c){var d=a.length,p=e.items,b=e.first,o=b,m,f=null,v=[],u=[],w,T,_,y;for(y=0;y<d;y+=1){if(w=a[y],T=n(w,y),_=p.get(T),_===void 0){var h=t.get(T);if(h!==void 0){t.delete(T),p.set(T,h);var C=f?f.next:o;N(e,f,h),N(e,h,C),U(h,C,l),f=h}else{var A=o?o.e.nodes_start:l;f=B(A,e,f,f===null?e.first:f.next,w,T,y,i,s,c)}p.set(T,f),v=[],u=[],o=f.next;continue}if(ue(_,w,y),(_.e.f&K)!==0&&le(_.e),_!==o){if(m!==void 0&&m.has(_)){if(v.length<u.length){var D=u[0],x;f=D.prev;var k=v[0],q=v[v.length-1];for(x=0;x<v.length;x+=1)U(v[x],D,l);for(x=0;x<u.length;x+=1)m.delete(u[x]);N(e,k.prev,q.next),N(e,f,k),N(e,q,D),o=D,f=q,y-=1,v=[],u=[]}else m.delete(_),U(_,o,l),N(e,_.prev,_.next),N(e,_,f===null?e.first:f.next),N(e,f,_),f=_;continue}for(v=[],u=[];o!==null&&o.k!==T;)(o.e.f&K)===0&&(m??=new Set).add(o),u.push(o),o=o.next;if(o===null)continue;_=o}v.push(_),f=_,o=_.next}if(o!==null||m!==void 0){for(var F=m===void 0?[]:ne(m);o!==null;)(o.e.f&K)===0&&F.push(o),o=o.next;var ve=F.length;if(ve>0){var ce=d===0?l:null;Fe(e,F,ce)}}r.first=e.first&&e.first.e,r.last=f&&f.e;for(var de of t.values())ie(de.e);t.clear()}function ue(r,a,e,t){Te(r.v,a),r.i=e}function B(r,a,e,t,l,i,s,n,c,d,p){var b=(c&Ce)!==0,o=(c&Ie)===0,m=b?o?H(l,!1,!1):j(l):l,f=(c&Ne)===0?s:j(s),v={i:f,v:m,k:i,a:null,e:null,prev:e,next:t};try{if(r===null){var u=document.createDocumentFragment();u.append(r=se())}return v.e=X(()=>n(r,m,f,d),E),v.e.prev=e&&e.e,v.e.next=t&&t.e,e===null?p||(a.first=v):(e.next=v,e.e.next=v.e),t!==null&&(t.prev=v,t.e.prev=v.e),v}finally{}}function U(r,a,e){for(var t=r.next?r.next.e.nodes_start:e,l=a?a.e.nodes_start:e,i=r.e.nodes_start;i!==null&&i!==t;){var s=De(i);l.before(i),i=s}}function N(r,a,e){a===null?r.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}function Le(r,a,e){var t=r==null?"":""+r;return t=t?t+" "+a:a,t===""?null:t}function Ve(r,a){return r==null?null:String(r)}function ze(r,a,e,t,l,i){var s=r.__className;if(E||s!==e||s===void 0){var n=Le(e,t);(!E||n!==r.getAttribute("class"))&&(n==null?r.removeAttribute("class"):r.className=n),r.__className=e}return i}function ae(r,a,e,t){var l=r.__style;if(E||l!==a){var i=Ve(a);(!E||i!==r.getAttribute("style"))&&(i==null?r.removeAttribute("style"):r.style.cssText=i),r.__style=a}return t}var Je=G('<div class="card svelte-1u0xoi6"><p class="card-title svelte-1u0xoi6"> </p> <div class="progress-bar svelte-1u0xoi6"><div class="progress svelte-1u0xoi6"><p class="progress-text svelte-1u0xoi6"> </p></div></div> <p class="progress-difference svelte-1u0xoi6"> </p></div>');function Ke(r,a){Z(a,!1);const e=H(),t=H(),l=H(),i=H();let s=R(a,"title",8,"Diamond 4"),n=R(a,"progress",8,90),c=R(a,"total",8,100);P(()=>(L(n()),L(c())),()=>{S(e,Math.min(n()/c()*100,100))}),P(()=>(L(c()),L(n())),()=>{S(t,Math.max(c()-n(),0))}),P(()=>g(e),()=>{S(l,g(e)===100)}),P(()=>g(l),()=>{S(i,g(l)?"rgb(0, 123, 255)":"rgb(224, 88, 24)")}),oe();var d=Je(),p=I(d),b=I(p,!0);M(p);var o=Y(p,2),m=I(o),f=I(m),v=I(f);M(f),M(m),M(o);var u=Y(o,2),w=I(u);M(u),M(d),fe(()=>{V(b,s()),ae(m,`width: ${g(e)??""}%; background-color: ${g(i)??""};`),V(v,`${n()??""}/${c()??""}`),ae(u,`color: ${(g(l)?g(i):"")??""};`),V(w,`${g(t)??""} to Diamond`)}),Q(r,d),W()}var Ue=G('<div><p class="player-steamname svelte-1h7q4iz"> </p> <!></div>');function Xe(r,a){Z(a,!1);let e=R(a,"name",8,"turbo"),t=R(a,"steamname",8,"turbo#9840"),l=R(a,"progress",12,0),i=R(a,"league",12,"Diamond 4");te(async()=>{try{const p=encodeURIComponent(e()),b=await fetch(`https://api.the-finals-leaderboard.com/v1/leaderboard/s8/crossplay?name=${p}`);if(!b.ok)throw new Error(`HTTP ${b.status}`);const o=await b.json();l(o.data[0].rankScore),i(o.data[0].league)}catch(p){console.error("Failed to fetch rank:",p)}}),re();var s=Ue(),n=I(s),c=I(n,!0);M(n);var d=Y(n,2);Ke(d,{get title(){return i()},get progress(){return l()},total:4e4}),M(s),fe(()=>{ze(s,1,`player ${l()>=4e4?"complete":""}`,"svelte-1h7q4iz"),V(c,t())}),Q(r,s),W()}var Ye=G('<main class="svelte-1uha8ag"><div class="players svelte-1uha8ag"></div></main>');function je(r,a){Z(a,!1);const e=H();let t=H([]);te(async()=>{try{const s=await fetch("https://api.the-finals-leaderboard.com/v1/leaderboard/s8worldtour/crossplay?clubTag=HSD");if(!s.ok)throw new Error(`HTTP ${s.status}`);const n=await s.json();S(t,n.data.map(c=>({name:c.name,steamname:c.steamName})))}catch(s){console.error("Failed to fetch rank:",s)}}),P(()=>g(t),()=>{S(e,[...g(t)].sort((s,n)=>s.steamname.localeCompare(n.steamname)))}),oe(),re();var l=Ye(),i=I(l);Oe(i,5,()=>g(e),qe,(s,n)=>{Xe(s,{get name(){return g(n),ee(()=>g(n).name)},get steamname(){return g(n),ee(()=>g(n).steamname)}})}),M(i),M(l),Q(r,l),W()}export{je as component};
