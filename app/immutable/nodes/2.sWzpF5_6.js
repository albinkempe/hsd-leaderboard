import{f as Y,a as U}from"../chunks/BQTtt9lx.js";import{i as ne}from"../chunks/S_62MmHS.js";import{o as ve}from"../chunks/BsQpzxXC.js";import{a as ce,D as ge,I as j,h as B,Z as xe,C as Me,l as t,M as be,F as ye,H as Te,G as fe,J as $,e as L,a7 as Ee,au as we,b as re,s as Ce,c as Ie,ae as Ne,aA as M,a3 as ue,as as de,aE as Ae,aF as De,r as me,p as He,aG as Se,aH as ke,aI as ee,d as he,ao as Re,aJ as Pe,ar as ze,aK as Be,R as Fe,v as le,aL as N,O as w,n as C,aM as oe,z as F,A as P,B as J,x as K,i as V,y as ie}from"../chunks/XMqoyUZz.js";import{s as q}from"../chunks/wQ1-299l.js";import{p as k,i as Oe}from"../chunks/u5C-EaJ2.js";function Ge(s,a){return a}function Le(s,a,e){for(var l=s.items,f=[],o=a.length,n=0;n<o;n++)Pe(a[n].e,f,!0);var u=o>0&&f.length===0&&e!==null;if(u){var p=e.parentNode;ze(p),p.append(e),l.clear(),R(s,a[0].prev,a[o-1].next)}Be(f,()=>{for(var d=0;d<o;d++){var _=a[d];u||(l.delete(_.k),R(s,_.prev,_.next)),he(_.e,!u)}})}function qe(s,a,e,l,f,o=null){var n=s,u={flags:a,items:new Map,first:null};{var p=s;n=B?j(xe(p)):p.appendChild(ce())}B&&Me();var d=null,_=!1,b=new Map,i=be(()=>{var c=e();return Ae(c)?c:c==null?[]:de(c)}),m,r;function v(){Ue(r,m,u,b,n,f,a,l,e),o!==null&&(m.length===0?d?me(d):d=re(()=>o(n)):d!==null&&He(d,()=>{d=null}))}ge(()=>{r??=Fe,m=t(i);var c=m.length;if(_&&c===0)return;_=c===0;let H=!1;if(B){var A=ye(n)===Te;A!==(c===0)&&(n=fe(),j(n),$(!1),H=!0)}if(B){for(var h=null,x,g=0;g<c;g++){if(L.nodeType===Ee&&L.data===we){n=L,H=!0,$(!1);break}var D=m[g],y=l(D,g);x=se(L,u,h,null,D,y,g,f,a,e),u.items.set(y,x),h=x}c>0&&j(fe())}if(B)c===0&&o&&(d=re(()=>o(n)));else if(Ce()){var S=new Set,I=Ie;for(g=0;g<c;g+=1){D=m[g],y=l(D,g);var z=u.items.get(y)??b.get(y);z?pe(z,D,g):(x=se(null,u,null,null,D,y,g,f,a,e,!0),b.set(y,x)),S.add(y)}for(const[O,G]of u.items)S.has(O)||I.skipped_effects.add(G.e);I.oncommit(v)}else v();H&&$(!0),t(i)}),B&&(n=L)}function Ue(s,a,e,l,f,o,n,u,p){var d=a.length,_=e.items,b=e.first,i=b,m,r=null,v=[],c=[],H,A,h,x;for(x=0;x<d;x+=1){if(H=a[x],A=u(H,x),h=_.get(A),h===void 0){var g=l.get(A);if(g!==void 0){l.delete(A),_.set(A,g);var D=r?r.next:i;R(e,r,g),R(e,g,D),ae(g,D,f),r=g}else{var y=i?i.e.nodes_start:f;r=se(y,e,r,r===null?e.first:r.next,H,A,x,o,n,p)}_.set(A,r),v=[],c=[],i=r.next;continue}if(pe(h,H,x),(h.e.f&ee)!==0&&me(h.e),h!==i){if(m!==void 0&&m.has(h)){if(v.length<c.length){var S=c[0],I;r=S.prev;var z=v[0],O=v[v.length-1];for(I=0;I<v.length;I+=1)ae(v[I],S,f);for(I=0;I<c.length;I+=1)m.delete(c[I]);R(e,z.prev,O.next),R(e,r,z),R(e,O,S),i=S,r=O,x-=1,v=[],c=[]}else m.delete(h),ae(h,i,f),R(e,h.prev,h.next),R(e,h,r===null?e.first:r.next),R(e,r,h),r=h;continue}for(v=[],c=[];i!==null&&i.k!==A;)(i.e.f&ee)===0&&(m??=new Set).add(i),c.push(i),i=i.next;if(i===null)continue;h=i}v.push(h),r=h,i=h.next}if(i!==null||m!==void 0){for(var G=m===void 0?[]:de(m);i!==null;)(i.e.f&ee)===0&&G.push(i),i=i.next;var X=G.length;if(X>0){var Z=d===0?f:null;Le(e,G,Z)}}s.first=e.first&&e.first.e,s.last=r&&r.e;for(var Q of l.values())he(Q.e);l.clear()}function pe(s,a,e,l){Ne(s.v,a),s.i=e}function se(s,a,e,l,f,o,n,u,p,d,_){var b=(p&Se)!==0,i=(p&ke)===0,m=b?i?M(f,!1,!1):ue(f):f,r=(p&De)===0?n:ue(n),v={i:r,v:m,k:o,a:null,e:null,prev:e,next:l};try{if(s===null){var c=document.createDocumentFragment();c.append(s=ce())}return v.e=re(()=>u(s,m,r,d),B),v.e.prev=e&&e.e,v.e.next=l&&l.e,e===null?_||(a.first=v):(e.next=v,e.e.next=v.e),l!==null&&(l.prev=v,l.e.prev=v.e),v}finally{}}function ae(s,a,e){for(var l=s.next?s.next.e.nodes_start:e,f=a?a.e.nodes_start:e,o=s.e.nodes_start;o!==null&&o!==l;){var n=Re(o);f.before(o),o=n}}function R(s,a,e){a===null?s.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}function Je(s,a){return s==null?null:String(s)}function te(s,a,e,l){var f=s.__style;if(B||f!==a){var o=Je(a);(!B||o!==s.getAttribute("style"))&&(o==null?s.removeAttribute("style"):s.style.cssText=o),s.__style=a}return l}var Ve=Y('<p class="progress-difference svelte-1u0xoi6"> </p>'),Ye=Y('<p class="progress-difference svelte-1u0xoi6"> </p>'),Ke=Y('<div class="card svelte-1u0xoi6"><p class="card-title svelte-1u0xoi6"> </p> <div class="progress-bar svelte-1u0xoi6"><div class="progress svelte-1u0xoi6"></div> <p class="progress-text svelte-1u0xoi6"> </p></div> <!></div>');function Xe(s,a){le(a,!1);const e=M(),l=M(),f=M(),o=M(),n=M(),u=M(),p=M(),d=M(),_=M(),b=M(),i=M();let m=k(a,"title",8,""),r=k(a,"progress",8,90),v=k(a,"total",8,100),c=k(a,"step",8,2500),H=k(a,"maxTotal",8,47500);const A=["Bronze","Silver","Gold","Platinum","Diamond"],h=[4,3,2,1],x=[];for(const T of A)for(const E of h)x.push(`${T} ${E}`);const g={Bronze:"rgb(111,63,26)",Silver:"rgb(108,108,108)",Gold:"rgb(176,122,0)",Platinum:"rgb(14,122,133)",Diamond:"rgb(10,79,138)"};function D(T){return T==null||Number.isNaN(T)?"":Math.round(T).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}N(()=>(C(H()),C(c())),()=>{w(e,Math.floor(H()/c()))}),N(()=>(C(r()),C(c()),t(e)),()=>{w(l,Math.min(Math.floor(r()/c()),t(e)))}),N(()=>(t(l),t(e)),()=>{w(f,Math.min(t(l)+1,t(e)))}),N(()=>t(f),()=>{w(o,x[t(f)]??x[x.length-1])}),N(()=>(t(f),C(c()),C(r())),()=>{w(n,Math.max(t(f)*c()-r(),0))}),N(()=>(C(r()),C(v())),()=>{w(u,Math.min(r()/Math.max(v(),1)*100,100))}),N(()=>t(u),()=>{w(p,t(u)===100)}),N(()=>C(m()),()=>{w(d,(m()||"").split(" ")[0]||"")}),N(()=>t(d),()=>{w(_,t(d)?t(d).charAt(0).toUpperCase()+t(d).slice(1).toLowerCase():"")}),N(()=>t(_),()=>{w(b,g[t(_)]??"rgb(100, 100, 100)")}),N(()=>(t(p),t(b)),()=>{w(i,t(p)?"rgb(0, 123, 255)":t(b))}),oe(),ne();var y=Ke(),S=F(y),I=F(S,!0);P(S);var z=J(S,2),O=F(z),G=J(O,2),X=F(G);P(G),P(z);var Z=J(z,2);{var Q=T=>{var E=Ve(),W=F(E);P(E),K(()=>{te(E,`color: ${t(i)??""};`),q(W,`Max rank (${t(e),V(()=>x[t(e)])??""})`)}),U(T,E)},_e=T=>{var E=Ye(),W=F(E);P(E),K(()=>{te(E,`color: ${t(b)??""};`),q(W,`${t(n)??""} to ${t(o)??""}`)}),U(T,E)};Oe(Z,T=>{t(l)===t(e)?T(Q):T(_e,!1)})}P(y),K((T,E)=>{q(I,m()),te(O,`width: ${t(u)??""}%; background-color: ${t(i)??""};`),q(X,`${T??""} / ${E??""}`)},[()=>(C(r()),V(()=>D(r()))),()=>(C(v()),V(()=>D(v())))]),U(s,y),ie()}var Ze=Y('<div class="player svelte-1h7q4iz"><p class="player-steamname svelte-1h7q4iz"> </p> <!></div>');function Qe(s,a){le(a,!1);const e=M();let l=k(a,"name",8,""),f=k(a,"steamname",8,""),o=k(a,"progress",12,0),n=k(a,"league",12,""),u=k(a,"step",8,2500),p=k(a,"maxTotal",8,47500);ve(async()=>{try{const m=encodeURIComponent(l()),r=await fetch(`https://api.the-finals-leaderboard.com/v1/leaderboard/s8/crossplay?name=${m}`);if(!r.ok)throw new Error(`HTTP ${r.status}`);const v=await r.json();o(v.data[0].rankScore),n(v.data[0].league)}catch(m){console.error("Failed to fetch rank:",m)}}),N(()=>(C(o()),C(u()),C(p())),()=>{w(e,Math.min(Math.max(Math.ceil(o()/u())*u(),u()),p()))}),oe(),ne();var d=Ze(),_=F(d),b=F(_,!0);P(_);var i=J(_,2);Xe(i,{get title(){return n()},get progress(){return o()},get total(){return t(e)}}),P(d),K(()=>q(b,f())),U(s,d),ie()}var We=Y('<main class="svelte-1uha8ag"><h1 class="svelte-1uha8ag">HSD Esports</h1> <h2 class="svelte-1uha8ag">Players</h2> <div class="players svelte-1uha8ag"></div></main>');function sa(s,a){le(a,!1);const e=M();let l=M([]);ve(async()=>{try{const n=await fetch("https://api.the-finals-leaderboard.com/v1/leaderboard/s8worldtour/crossplay?clubTag=HSD");if(!n.ok)throw new Error(`HTTP ${n.status}`);const u=await n.json();w(l,u.data.map(p=>({name:p.name,steamname:p.steamName})))}catch(n){console.error("Failed to fetch rank:",n)}}),N(()=>t(l),()=>{w(e,[...t(l)].sort((n,u)=>n.steamname.localeCompare(u.steamname)))}),oe(),ne();var f=We(),o=J(F(f),4);qe(o,5,()=>t(e),Ge,(n,u)=>{Qe(n,{get name(){return t(u),V(()=>t(u).name)},get steamname(){return t(u),V(()=>t(u).steamname)}})}),P(o),P(f),U(s,f),ie()}export{sa as component};
