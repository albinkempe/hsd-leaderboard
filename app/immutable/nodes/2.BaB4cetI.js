import{f as z,a as O}from"../chunks/BQTtt9lx.js";import{i as te}from"../chunks/S_62MmHS.js";import{o as se}from"../chunks/BsQpzxXC.js";import{a as ne,D as me,I as U,h as C,Z as pe,C as _e,l as x,M as he,F as ge,H as xe,G as ee,J as V,e as F,a7 as ye,au as Ee,b as X,s as be,c as we,ae as Te,aA as q,a3 as ae,as as le,aE as Ae,aF as De,r as ie,p as Me,aG as Ce,aH as Ie,aI as Y,d as oe,ao as He,aJ as Ne,ar as ke,aK as Re,R as Se,v as j,aL as Z,O as G,n as k,aM as fe,z as I,A as M,B as Q,i as J,x as L,y as $}from"../chunks/XMqoyUZz.js";import{s as B}from"../chunks/wQ1-299l.js";import{p as N,i as Pe}from"../chunks/u5C-EaJ2.js";function Fe(t,a){return a}function Oe(t,a,e){for(var l=t.items,o=[],s=a.length,r=0;r<s;r++)Ne(a[r].e,o,!0);var f=s>0&&o.length===0&&e!==null;if(f){var g=e.parentNode;ke(g),g.append(e),l.clear(),D(t,a[0].prev,a[s-1].next)}Re(o,()=>{for(var m=0;m<s;m++){var _=a[m];f||(l.delete(_.k),D(t,_.prev,_.next)),oe(_.e,!f)}})}function qe(t,a,e,l,o,s=null){var r=t,f={flags:a,items:new Map,first:null};{var g=t;r=C?U(pe(g)):g.appendChild(ne())}C&&_e();var m=null,_=!1,y=new Map,n=he(()=>{var c=e();return Ae(c)?c:c==null?[]:le(c)}),p,v;function u(){ze(v,p,f,y,r,o,a,l,e),s!==null&&(p.length===0?m?ie(m):m=X(()=>s(r)):m!==null&&Me(m,()=>{m=null}))}me(()=>{v??=Se,p=x(n);var c=p.length;if(_&&c===0)return;_=c===0;let T=!1;if(C){var E=ge(r)===xe;E!==(c===0)&&(r=ee(),U(r),V(!1),T=!0)}if(C){for(var i=null,d,h=0;h<c;h++){if(F.nodeType===ye&&F.data===Ee){r=F,T=!0,V(!1);break}var b=p[h],A=l(b,h);d=W(F,f,i,null,b,A,h,o,a,e),f.items.set(A,d),i=d}c>0&&U(ee())}if(C)c===0&&s&&(m=X(()=>s(r)));else if(be()){var H=new Set,w=we;for(h=0;h<c;h+=1){b=p[h],A=l(b,h);var R=f.items.get(A)??y.get(A);R?ve(R,b,h):(d=W(null,f,null,null,b,A,h,o,a,e,!0),y.set(A,d)),H.add(A)}for(const[S,P]of f.items)H.has(S)||w.skipped_effects.add(P.e);w.oncommit(u)}else u();T&&V(!0),x(n)}),C&&(r=F)}function ze(t,a,e,l,o,s,r,f,g){var m=a.length,_=e.items,y=e.first,n=y,p,v=null,u=[],c=[],T,E,i,d;for(d=0;d<m;d+=1){if(T=a[d],E=f(T,d),i=_.get(E),i===void 0){var h=l.get(E);if(h!==void 0){l.delete(E),_.set(E,h);var b=v?v.next:n;D(e,v,h),D(e,h,b),K(h,b,o),v=h}else{var A=n?n.e.nodes_start:o;v=W(A,e,v,v===null?e.first:v.next,T,E,d,s,r,g)}_.set(E,v),u=[],c=[],n=v.next;continue}if(ve(i,T,d),(i.e.f&Y)!==0&&ie(i.e),i!==n){if(p!==void 0&&p.has(i)){if(u.length<c.length){var H=c[0],w;v=H.prev;var R=u[0],S=u[u.length-1];for(w=0;w<u.length;w+=1)K(u[w],H,o);for(w=0;w<c.length;w+=1)p.delete(c[w]);D(e,R.prev,S.next),D(e,v,R),D(e,S,H),n=H,v=S,d-=1,u=[],c=[]}else p.delete(i),K(i,n,o),D(e,i.prev,i.next),D(e,i,v===null?e.first:v.next),D(e,v,i),v=i;continue}for(u=[],c=[];n!==null&&n.k!==E;)(n.e.f&Y)===0&&(p??=new Set).add(n),c.push(n),n=n.next;if(n===null)continue;i=n}u.push(i),v=i,n=i.next}if(n!==null||p!==void 0){for(var P=p===void 0?[]:le(p);n!==null;)(n.e.f&Y)===0&&P.push(n),n=n.next;var ue=P.length;if(ue>0){var ce=m===0?o:null;Oe(e,P,ce)}}t.first=e.first&&e.first.e,t.last=v&&v.e;for(var de of l.values())oe(de.e);l.clear()}function ve(t,a,e,l){Te(t.v,a),t.i=e}function W(t,a,e,l,o,s,r,f,g,m,_){var y=(g&Ce)!==0,n=(g&Ie)===0,p=y?n?q(o,!1,!1):ae(o):o,v=(g&De)===0?r:ae(r),u={i:v,v:p,k:s,a:null,e:null,prev:e,next:l};try{if(t===null){var c=document.createDocumentFragment();c.append(t=ne())}return u.e=X(()=>f(t,p,v,m),C),u.e.prev=e&&e.e,u.e.next=l&&l.e,e===null?_||(a.first=u):(e.next=u,e.e.next=u.e),l!==null&&(l.prev=u,l.e.prev=u.e),u}finally{}}function K(t,a,e){for(var l=t.next?t.next.e.nodes_start:e,o=a?a.e.nodes_start:e,s=t.e.nodes_start;s!==null&&s!==l;){var r=He(s);o.before(s),s=r}}function D(t,a,e){a===null?t.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}function Le(t,a){return t==null?null:String(t)}function re(t,a,e,l){var o=t.__style;if(C||o!==a){var s=Le(a);(!C||s!==t.getAttribute("style"))&&(s==null?t.removeAttribute("style"):t.style.cssText=s),t.__style=a}return l}var Be=z('<p class="progress-difference svelte-1u0xoi6"> </p>'),Ge=z('<p class="progress-difference svelte-1u0xoi6">0 to Diamond</p>'),Je=z('<div class="card svelte-1u0xoi6"><p class="card-title svelte-1u0xoi6"> </p> <div class="progress-bar svelte-1u0xoi6"><div class="progress svelte-1u0xoi6"><p class="progress-text svelte-1u0xoi6"> </p></div></div> <!></div>');function Ue(t,a){j(a,!1);const e=q(),l=q();let o=N(a,"title",8,"Diamond 4"),s=N(a,"progress",8,90),r=N(a,"total",8,100);function f(i,d){return Math.min(i/d*100,100)}function g(i,d){return Math.max(d-i,0)}Z(()=>(k(s()),k(r())),()=>{G(e,f(s(),r()))}),Z(()=>x(e),()=>{G(l,x(e)===100?"rgb(0, 123, 255)":"rgb(224, 88, 24)")}),fe();var m=Je(),_=I(m),y=I(_,!0);M(_);var n=Q(_,2),p=I(n),v=I(p),u=I(v);M(v),M(p),M(n);var c=Q(n,2);{var T=i=>{var d=Be(),h=I(d);M(d),L(b=>B(h,`${b??""} to Diamond`),[()=>(k(s()),k(r()),J(()=>g(s(),r())))]),O(i,d)},E=i=>{var d=Ge();L(()=>re(d,`color: ${x(l)??""};`)),O(i,d)};Pe(c,i=>{k(s()),k(r()),J(()=>g(s(),r())>0)?i(T):i(E,!1)})}M(m),L(()=>{B(y,o()),re(p,`width: ${x(e)??""}%; background-color: ${x(l)??""};`),B(u,`${s()??""}/${r()??""}`)}),O(t,m),$()}var Ve=z('<div class="player svelte-1h7q4iz"><p class="player-steamname svelte-1h7q4iz"> </p> <!></div>');function Ye(t,a){j(a,!1);let e=N(a,"name",8,"turbo"),l=N(a,"steamname",8,"turbo#9840"),o=N(a,"rank",12,0),s=N(a,"league",12,"Diamond 4");se(async()=>{try{const _=encodeURIComponent(e()),y=await fetch(`https://api.the-finals-leaderboard.com/v1/leaderboard/s8/crossplay?name=${_}`);if(!y.ok)throw new Error(`HTTP ${y.status}`);const n=await y.json();console.log(n.data[0].rankScore),o(n.data[0].rankScore),s(n.data[0].league)}catch(_){console.error("Failed to fetch rank:",_)}}),te();var r=Ve(),f=I(r),g=I(f,!0);M(f);var m=Q(f,2);Ue(m,{get title(){return s()},get progress(){return o()},total:4e4}),M(r),L(()=>B(g,l())),O(t,r),$()}var Ke=z('<main class="svelte-1uha8ag"><div class="players svelte-1uha8ag"></div></main>');function ea(t,a){j(a,!1);const e=q();let l=q([]);se(async()=>{try{const r=await fetch("https://api.the-finals-leaderboard.com/v1/leaderboard/s8worldtour/crossplay?clubTag=HSD");if(!r.ok)throw new Error(`HTTP ${r.status}`);const f=await r.json();G(l,f.data.map(g=>({name:g.name,steamname:g.steamName})))}catch(r){console.error("Failed to fetch rank:",r)}}),Z(()=>x(l),()=>{G(e,[...x(l)].sort((r,f)=>r.steamname.localeCompare(f.steamname)))}),fe(),te();var o=Ke(),s=I(o);qe(s,5,()=>x(e),Fe,(r,f)=>{Ye(r,{get name(){return x(f),J(()=>x(f).name)},get steamname(){return x(f),J(()=>x(f).steamname)}})}),M(s),M(o),O(t,o),$()}export{ea as component};
