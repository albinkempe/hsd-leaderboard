import{f as B,a as G}from"../chunks/CnpQ8Ro8.js";import{i as $}from"../chunks/DIymI1qN.js";import{o as j}from"../chunks/C5wIMy6C.js";import{a as ee,a1 as ve,X as L,h as I,Q as ce,V as de,i as D,k as me,ax as pe,a3 as _e,ac as Q,ao as V,e as q,a2 as he,at as ge,b as K,s as xe,c as ye,aa as Ee,aA as U,Z,ar as ae,aE as we,aF as Te,r as re,p as be,aG as Me,aH as Ae,aI as z,d as te,am as De,aJ as Ie,aq as Ne,aK as Ce,q as He,M as N,N as M,O as X,J as se,u as P,F,H as ne,K as le,aL as ke,aM as Se,n as W}from"../chunks/DCnrmVDU.js";import{s as O}from"../chunks/HRD7FUh1.js";import{p as H}from"../chunks/B8lM9HYx.js";function Re(r,a){return a}function qe(r,a,e){for(var s=r.items,l=[],i=a.length,t=0;t<i;t++)Ie(a[t].e,l,!0);var o=i>0&&l.length===0&&e!==null;if(o){var m=e.parentNode;Ne(m),m.append(e),s.clear(),b(r,a[0].prev,a[i-1].next)}Ce(l,()=>{for(var p=0;p<i;p++){var c=a[p];o||(s.delete(c.k),b(r,c.prev,c.next)),te(c.e,!o)}})}function Fe(r,a,e,s,l,i=null){var t=r,o={flags:a,items:new Map,first:null};{var m=r;t=I?L(ce(m)):m.appendChild(ee())}I&&de();var p=null,c=!1,g=new Map,n=me(()=>{var u=e();return we(u)?u:u==null?[]:ae(u)}),_,f;function v(){Oe(f,_,o,g,t,l,a,s,e),i!==null&&(_.length===0?p?re(p):p=K(()=>i(t)):p!==null&&be(p,()=>{p=null}))}ve(()=>{f??=He,_=D(n);var u=_.length;if(c&&u===0)return;c=u===0;let x=!1;if(I){var w=pe(t)===_e;w!==(u===0)&&(t=Q(),L(t),V(!1),x=!0)}if(I){for(var d=null,y,h=0;h<u;h++){if(q.nodeType===he&&q.data===ge){t=q,x=!0,V(!1);break}var A=_[h],T=s(A,h);y=Y(q,o,d,null,A,T,h,l,a,e),o.items.set(T,y),d=y}u>0&&L(Q())}if(I)u===0&&i&&(p=K(()=>i(t)));else if(xe()){var C=new Set,E=ye;for(h=0;h<u;h+=1){A=_[h],T=s(A,h);var k=o.items.get(T)??g.get(T);k?ie(k,A,h):(y=Y(null,o,null,null,A,T,h,l,a,e,!0),g.set(T,y)),C.add(T)}for(const[S,R]of o.items)C.has(S)||E.skipped_effects.add(R.e);E.oncommit(v)}else v();x&&V(!0),D(n)}),I&&(t=q)}function Oe(r,a,e,s,l,i,t,o,m){var p=a.length,c=e.items,g=e.first,n=g,_,f=null,v=[],u=[],x,w,d,y;for(y=0;y<p;y+=1){if(x=a[y],w=o(x,y),d=c.get(w),d===void 0){var h=s.get(w);if(h!==void 0){s.delete(w),c.set(w,h);var A=f?f.next:n;b(e,f,h),b(e,h,A),J(h,A,l),f=h}else{var T=n?n.e.nodes_start:l;f=Y(T,e,f,f===null?e.first:f.next,x,w,y,i,t,m)}c.set(w,f),v=[],u=[],n=f.next;continue}if(ie(d,x,y),(d.e.f&z)!==0&&re(d.e),d!==n){if(_!==void 0&&_.has(d)){if(v.length<u.length){var C=u[0],E;f=C.prev;var k=v[0],S=v[v.length-1];for(E=0;E<v.length;E+=1)J(v[E],C,l);for(E=0;E<u.length;E+=1)_.delete(u[E]);b(e,k.prev,S.next),b(e,f,k),b(e,S,C),n=C,f=S,y-=1,v=[],u=[]}else _.delete(d),J(d,n,l),b(e,d.prev,d.next),b(e,d,f===null?e.first:f.next),b(e,f,d),f=d;continue}for(v=[],u=[];n!==null&&n.k!==w;)(n.e.f&z)===0&&(_??=new Set).add(n),u.push(n),n=n.next;if(n===null)continue;d=n}v.push(d),f=d,n=d.next}if(n!==null||_!==void 0){for(var R=_===void 0?[]:ae(_);n!==null;)(n.e.f&z)===0&&R.push(n),n=n.next;var oe=R.length;if(oe>0){var fe=p===0?l:null;qe(e,R,fe)}}r.first=e.first&&e.first.e,r.last=f&&f.e;for(var ue of s.values())te(ue.e);s.clear()}function ie(r,a,e,s){Ee(r.v,a),r.i=e}function Y(r,a,e,s,l,i,t,o,m,p,c){var g=(m&Me)!==0,n=(m&Ae)===0,_=g?n?U(l,!1,!1):Z(l):l,f=(m&Te)===0?t:Z(t),v={i:f,v:_,k:i,a:null,e:null,prev:e,next:s};try{if(r===null){var u=document.createDocumentFragment();u.append(r=ee())}return v.e=K(()=>o(r,_,f,p),I),v.e.prev=e&&e.e,v.e.next=s&&s.e,e===null?c||(a.first=v):(e.next=v,e.e.next=v.e),s!==null&&(s.prev=v,s.e.prev=v.e),v}finally{}}function J(r,a,e){for(var s=r.next?r.next.e.nodes_start:e,l=a?a.e.nodes_start:e,i=r.e.nodes_start;i!==null&&i!==s;){var t=De(i);l.before(i),i=t}}function b(r,a,e){a===null?r.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}function Pe(r,a){return r==null?null:String(r)}function Le(r,a,e,s){var l=r.__style;if(I||l!==a){var i=Pe(a);(!I||i!==r.getAttribute("style"))&&(i==null?r.removeAttribute("style"):r.style.cssText=i),r.__style=a}return s}var Ve=B('<div class="card svelte-1u0xoi6"><p class="card-title svelte-1u0xoi6"> </p> <div class="progress-bar svelte-1u0xoi6"><div class="progress svelte-1u0xoi6"><p class="progress-text svelte-1u0xoi6"> </p></div></div> <p class="progress-difference svelte-1u0xoi6"> </p></div>');function ze(r,a){let e=H(a,"title",8,"Diamond 4"),s=H(a,"progress",8,90),l=H(a,"total",8,100);function i(u,x){return Math.min(u/x*100,100)}function t(u,x){return Math.max(x-u,0)}var o=Ve(),m=N(o),p=N(m,!0);M(m);var c=X(m,2),g=N(c),n=N(g),_=N(n);M(n),M(g),M(c);var f=X(c,2),v=N(f);M(f),M(o),se((u,x)=>{O(p,e()),Le(g,`width: ${u??""}%;`),O(_,`${s()??""}/${l()??""}`),O(v,`${x??""} to Diamond`)},[()=>(F(s()),F(l()),P(()=>i(s(),l()))),()=>(F(s()),F(l()),P(()=>t(s(),l())))]),G(r,o)}var Je=B('<div class="player svelte-1h7q4iz"><p class="player-steamname svelte-1h7q4iz"> </p> <!></div>');function Ke(r,a){ne(a,!1);let e=H(a,"name",8,"turbo"),s=H(a,"steamname",8,"turbo#9840"),l=H(a,"rank",12,0),i=H(a,"league",12,"Diamond 4");j(async()=>{try{const c=encodeURIComponent(e()),g=await fetch(`https://api.the-finals-leaderboard.com/v1/leaderboard/s8/crossplay?name=${c}`);if(!g.ok)throw new Error(`HTTP ${g.status}`);const n=await g.json();console.log(n.data[0].rankScore),l(n.data[0].rankScore),i(n.data[0].league)}catch(c){console.error("Failed to fetch rank:",c)}}),$();var t=Je(),o=N(t),m=N(o,!0);M(o);var p=X(o,2);ze(p,{get title(){return i()},get progress(){return l()},total:4e4}),M(t),se(()=>O(m,s())),G(r,t),le()}var Ue=B('<main class="svelte-1uha8ag"><div class="players svelte-1uha8ag"></div></main>');function We(r,a){ne(a,!1);const e=U();let s=U([]);j(async()=>{try{const t=await fetch("https://api.the-finals-leaderboard.com/v1/leaderboard/s8worldtour/crossplay?clubTag=HSD");if(!t.ok)throw new Error(`HTTP ${t.status}`);const o=await t.json();W(s,o.data.map(m=>({name:m.name,steamname:m.steamName})))}catch(t){console.error("Failed to fetch rank:",t)}}),ke(()=>D(s),()=>{W(e,[...D(s)].sort((t,o)=>t.steamname.localeCompare(o.steamname)))}),Se(),$();var l=Ue(),i=N(l);Fe(i,5,()=>D(e),Re,(t,o)=>{Ke(t,{get name(){return D(o),P(()=>D(o).name)},get steamname(){return D(o),P(()=>D(o).steamname)}})}),M(i),M(l),G(r,l),le()}export{We as component};
